# 第7周 文件和数据格式化

## 7.1文件的使用

1.文件的理解

    文件是数据的抽象和集合
    文件是存储在辅助存储器上的数据序列
    文件是数据存储的一种形式
    文件展示形态：文本文件和二进制文件
        文本文件和二进制文件只是文件的展示方式
        本质上，所有文件都是二进制形式存储
        形式上，所有文件采用两种方式展示

2.文本文件
    
    文件是数据的抽象和集合
    由单一特定编码组成的文件，如UTF-8编码
    由于存在编码，也被看成是存储着的长字符串
    适用于例如：.txt文件、.py文件
    
3.二进制文件

    直接由比特币0和1组成，没有统一字符编码
    一般存在二进制0和1的组织结构，即文件格式
    适用于例如：.png文件、.avi文件等
    
4.文件的打开关闭

    文件处理的步骤：打开 - 操作 - 关闭
    
    <变量名> = open(<路径文件名>, <打开模式>)
    
    文件打开模式
        'r' 只读，默认值
        'w' 覆盖写模式
        'x' 创建写模式
        'a' 追加写模式
        'b' 二进制文件模式
        't' 文本文件模式，默认值
        '+' 与r/w/a一同使用，在原基础上增加同时读写功能
    
    文件关闭
        <变量名>.close() 
    
5.文件内容的读取

    <f>.read(size=-1) 读入全部信息，如果给出参数，读入前size长度
    <f>.readline(size=-1) 读入一行内容，如果给出参数，读入该行前size长度
    <f>.readlines(hint=-1) 读入文件所有行，以每行为元素形成列表，如果给出参数，读入前hint行

6.数据的文件写入

    <f>.write(s) 向文件写入一个字符串或字节流
    <f>.writelines(lines) 将一个元素全部为字符串的列表写入文件
    <f>.seek(offset) 改变当前文件操作指针的位置，offset含义：0-文件开头；1-当前位置；3-问阿金结尾
    
## 7.2实例11：自动轨迹绘制

    自动化思维：数据和功能分离，数据驱动
    接口化设计
    二维数据应用
    
## 7.3一维数据的格式化和处理

1.一维数据

    由对等关系的有序或无序数据构成，采用线性方式组织
    对应列表 数组 集合

2.二维数据

    由多个一维数据构成，是一维数据的组合形式
    表格是典型的的二维数据
    表头是二维数据的一部分
    
3.多维数据

    由一维或多维数据在新维度上拓展形成
    
4.高维数据

    仅利用基本的二元关系展示数据间的复杂结构
    
5.数据的操作周期

    存储 表示 操作
    
6.一维数据的存储

    存储方式1：空格分隔
        使用一个或多个空格分隔进行存储，不换行
        缺点：数据中不能存在空格
    存储方式2：逗号分隔
        缺点：数据中不能有英文逗号
    存储方式3：其他方式 特殊符号分隔
    
7.一维数据处理

    .spilt()方法分隔
    .write(','.join(ls))方法写入
    
## 7.4二维数据的格式化和处理

1.二维数据的表示

    二维列表类型
    两层for循环遍历每个元素
    
2.CSV：Comma-Separated Values 
    
    国际通用的一二维数据存储格式，一般.csv拓展名
    每行一个一维数据，采用逗号分隔，无空行，逗号为英文半角逗号
    
    如果某个数据缺失，逗号仍要保留
    二维数据的表头可以作为数据存储，也可以另行存储
    
3.二维数据的存储

    按行存或者按列存都可以，由具体程序决定
    一般索引习惯：ls[row][column]，先行后列
    根据一般习惯，外层列表每个元素是一行，按行存
    
4.二维数据的处理

    从CSV格式的文件中读入数据
    将数据写入CSV格式的文件
    二层循环遍历
    
## 7.5wordcloud库的使用

1.wordcloud库

    优秀的词云展示的第三方库
    cmd命令行 pip install wordcloud
    
2.wordcloud库使用

    wordcloud库把词云当做一个WordCloud对象
        wordcloud.WordCloud()代表一个文本对应的词云
        可以根据文本中词语出现的频率等参数绘制词云
        绘制词云的形状、尺寸和颜色都可以设定
    
    w = wordcloud.WordCloud()
        w.generate(txt) 向WordCloud对象w中加载文本txt
        w.to_file(filename) 将词云输出为图像文件，.png或.jpg
        
3.wordcloud库常规方法

    步骤1：配置对象参数
    参数2：加载词云文本
    步骤3：输出词云文件

4.处理步骤
    
    分隔，以空格分隔单词
    统计，单词出现次数并过滤
    字体，根据统计配置字号
    布局，颜色环境尺寸
    
5.配置对象参数
    
    w = wordcloud.WordCloud(<参数>)
    
    width 指定词云对象生成图片的宽度，默认400像素
    heigth 指定词云对象生成图片的高度，默认200像素
    
    min_font_size 指定词云中字体的最小字号，默认4号
    max_font_size 指定词云中字体的最大字号，根据高度自动调节
    font_step 指定词云中字体字号的步进间隔，默认为1
    font_path 指定字体文件的路径，默认None
    
    max_words 指定词云显示的最大单词数，默认200
    stop_words 指定词云的排除词列表，即不显示的单词列表
    
    mask 指定词云形状，默认为长方形，需要引用imread()函数
        >>>from scipy.misc import imread
        >>>mk = imread("pic.png")
        >>>w = wordcloud.WordCloud(msk = mk)
    
    background_color 指定词云图片的背景颜色，默认为黑色

## 7.6实例12：政府工作报告词云

    
